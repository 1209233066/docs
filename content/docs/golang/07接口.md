---
title: "接口"
linkTitle: "接口"
date: 2025-05-09
toc_hide: false
hide_summary: true
weight: 7
description: >
  接口|数据类型

tags: ["golang","接口"]
categories: ["golang"]
url: golang/interface.html
---


### 接口

接口是一种抽象类型，它定义了一组方法，但没有实现。接口可以被任何类型实现，这意味着一个类型可以实现多个接口。通过接口，我们可以实现多态性，即一个对象可以具有多种类型。

+ **接口定义**

  ```go
  type systemd interface {
  	Start() error
  	Stop() error
  }
  ```

  

  

+ **接口实现，需要实现接口中定义的所有方法**

  ```go
  package main
  
  import "fmt"
  
  type systemd interface {
  	Start() error
  	Stop() error
  }
  
  type Server struct {
  	Name string
  }
  
  func (s *Server) Start() error {
  	fmt.Println(s.Name, "starting...")
  	return nil
  }
  
  func (s *Server) Stop() error {
  	fmt.Println(s.Name, "stoping...")
  	return nil
  }
  
  // 构造函数,实现了接口定义的所有方法的对象 也就是接口数据类型
  func newServer() systemd {
  	s := &Server{"Redis"}
  
  	return s
  }
  
  //  同样方法在定义一个client 结构体并实现 接口定义
  
  type Client struct {
  	Name string
  }
  
  func (c *Client) Start() error {
  	fmt.Println(c.Name, "starting...")
  	return nil
  }
  
  func (c *Client) Stop() error {
  	fmt.Println(c.Name, "stoping...")
  	return nil
  }
  
  func newClient() systemd {
  	s := &Client{"Redis-cli"}
  
  	return s
  }
  
  func main() {
  	server := newServer()
  
  	server.Start()
  	server.Stop()
  	//
  	client := newClient()
  	client.Start()
  	client.Stop()
  
  }
  ```

  

接口作为函数参数

接口作为函数返回值

接口类型的数据

接口类型切片

```go
package main

import "fmt"

type systemd interface {
	Start() error
	Stop() error
}

var system []systemd

type Server struct {
	Name string
}

func (s *Server) Start() error {
	return nil
}

func (s *Server) Stop() error {
	return nil
}
func main() {
	// 实现了所有接口方法的结构体实例，都是这种数据类型
	s := &Server{"Redis"}
	system = append(system, s)
	fmt.Println(system[0]) //&{Redis}
}
```





接口类型map





空接口

```go
package main

import "fmt"

func main() {

	// 定义一个空接口
	type empty interface {
	}
	//定义一个函数，参数为空接口类型。
	func(test empty) {
		fmt.Println(test)
	}(3.14)
	//可变参数
	func(test ...empty) {
		fmt.Println(test)
	}("hello world", 1234)

	// 定义一个结构体,使用空接口类型
	type test struct {
		a interface{}
	}

	t1 := test{"hello world"}
	t2 := test{3.14}
	fmt.Println(t1, t2)
}

```

接口继承