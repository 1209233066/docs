---
title: "alertmanager"
linkTitle: "alertmanager"
date: 2025-05-14
simple_list: true
weight: 60
url: prometheus/alertmanager
---

### 告警规划

> 要求：准确，及时，告警信息明确, 告警频率合理

+ 漏报误报 ==》 

  1. promethues 告警规则和评估周期

  

+ 针对通知信息不足，接收告警人员无法通过告警信息判断出当前出现的问题

  1. 调整告警模版

  2. 通过开发脚本程序拦截告警添加更多标签，告警中新增富文本例如走势图

     

+ 告警滋扰 ==》 

  1. 通过分组，让同类告警分批次发出
  2. 路由，按照需要接收告警的人收告警
     + 按照业务
     + 按照故障等级
  3. 抑制手段



alertmanger 负责管理告警的静默、抑制、聚合和发送告警，常见告警等级和处理时效。

| 等级 | 阿里 | 腾讯 | 先知 | 海鸥 | 定义方式                                           | 认领（接手）时间 | 解决（关闭）时间 | 通知渠道                                                     |
| ---- | ---- | ---- | ---- | ---- | -------------------------------------------------- | ---------------- | ---------------- | ------------------------------------------------------------ |
| P1   | 严重 | 致命 | 事故 | 致命 | 需要立即联系管理团队的关键性问题                   | 1min             | 10min            | 电话+短信+IM通知（钉钉等）配合升级策略确保问题在规定时间内处理 |
| P2   | 警告 | 严重 | 故障 | 严重 | 严重影响许多客户使用产品的能力的关键性系统问题     | 10min            | 1h               | 短信+IM通知（钉钉等）配合升级策略确保问题在规定时间内处理    |
| P3   | 优化 | 警告 | 告警 | 警告 | 需要运维人员立即关注的稳定性问题或影响客户的小问题 | 1h               | 24h              | 短信+IM通知（钉钉等）                                        |
| P4   | 通知 | 提示 | 信息 | 通知 | 需要采取行动的小问题，但不影响客户使用产品         | 24h              | 7Day             | IM通知（钉钉等）                                             |

### 架构图

![告警](/docs/prometheus/alertmanager/img/告警.png)



[curl](https://www.cnblogs.com/fan-gx/p/12321351.html)

[【博客484】alertmanager-----告警处理源码剖析_alertmanager 重复告警_lulu的云原生笔记的博客-CSDN博客](https://blog.csdn.net/qq_43684922/article/details/126803822)

[Alertmanager—配置详解(记得看完)_StarsL的技术博客_51CTO博客](https://blog.51cto.com/starsliao/5763175)
