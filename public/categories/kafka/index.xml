<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kafka on 零露云</title>
    <link>https://zero-dew.netlify.app/categories/kafka/</link>
    <description>Recent content in Kafka on 零露云</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <copyright>零露云©2025版权所有</copyright>
    <lastBuildDate>Mon, 10 Nov 2025 10:10:40 +0800</lastBuildDate>
    <atom:link href="https://zero-dew.netlify.app/categories/kafka/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>部署zookeeper</title>
      <link>https://zero-dew.netlify.app/elk/kafka/zookeeper.html</link>
      <pubDate>Fri, 12 Sep 2025 15:22:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/elk/kafka/zookeeper.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt; 支持jdk1.8&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;3.3.2&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper可视化工具: &lt;a href=&#34;https://github.com/vran-dev/PrettyZoo?tab=readme-ov-file&#34; target=&#34;_blank&#34;&gt;PrettyZoo&lt;/a&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;通常多个kafka集群通过chroot的方式使用同一个zookeer集群。在Kafka 0.9.0.0 版本之前，除了 broker 之外，消费者也会使用 Zookeeper 来保存一些信息，比如消费者群组的信息、主题信息、消费分区的偏移量&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h3 id=&#34;安装部署&#34;&gt;安装部署&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;安装依赖&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;jdk&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://download.java.net/java/ga/jdk11/openjdk-11_linux-x64_bin.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar xf openjdk-11_linux-x64_bin.tar.gz -C /opt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -svf  /opt/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;jdk-11,jdk&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat&amp;gt;&amp;gt;/etc/profile&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;&amp;#39;EOF&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;export JAVA_HOME=/opt/jdk&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;export JAVA_JRE=$JAVA_HOME/jre&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;export CLASSPATH=$JAVA_HOME/lib:$JAVA_HOME/jre/lib&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;export PATH=$JAVA_HOME/bin:$JAVA_JRE/bin:$PATH:.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source /etc/profile&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;java -version&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;部署安装&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;下载软件&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://archive.apache.org/dist/zookeeper/zookeeper-3.4.14/zookeeper-3.4.14.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar xf zookeeper-3.4.14.tar.gz -C /opt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -sv /opt/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;zookeeper-3.4.14,zookeeper&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p /opt/zookeeper/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;data,logs&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt; &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;修改配置文件&lt;/p&gt;</description>
    </item>
    <item>
      <title>部署kafka</title>
      <link>https://zero-dew.netlify.app/database/kafka/install.html</link>
      <pubDate>Fri, 12 Sep 2025 15:22:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/database/kafka/install.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;3.3.2&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h3 id=&#34;安装部署&#34;&gt;安装部署&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;作为高吞吐的数据流引擎，磁盘和网络性能对kafka影响最大。24C 、32GB 、1TB 7200转sas盘2块、1gb/s 带宽&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;安装依赖&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;安装&lt;code&gt;jdk&lt;/code&gt; 和 &lt;code&gt;zookeeper&lt;/code&gt;参考 &lt;a href=&#34;zookeeper.html&#34;&gt;部署zookeeper&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;部署安装&lt;sub&gt;【elk建议Kafka 版本 0.8.2.0+】&lt;/sub&gt;&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;下载软件&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; kafaka_&amp;lt;scala版本&amp;gt;-&amp;lt;kafka版本&amp;gt;.tgz&#x9;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://archive.apache.org/dist/kafka/3.3.2/kafka_2.13-3.3.2.tgz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar xf kafka_2.13-3.3.2.tgz -C /opt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ln -sv  /opt/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;kafka_2.13-3.3.2,kafka&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir /opt/kafka/data&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;修改配置文件&lt;/p&gt;&#xA;&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;  &lt;ul class=&#34;nav nav-tabs&#34; id=&#34;tabs-1&#34; role=&#34;tablist&#34;&gt;&#xA;  &lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link disabled&#34;&#xA;          id=&#34;tabs-01-00-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-00&#34; role=&#34;tab&#34;&#xA;          aria-controls=&#34;tabs-01-00&#34; aria-selected=&#34;false&#34;&gt;&#xA;        &lt;strong&gt;配置kafka&lt;/strong&gt;:&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link active&#34;&#xA;          id=&#34;tabs-01-01-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-01&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**单节点配置**&#34; aria-controls=&#34;tabs-01-01&#34; aria-selected=&#34;true&#34;&gt;&#xA;        &lt;strong&gt;单节点配置&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link&#34;&#xA;          id=&#34;tabs-01-02-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-02&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**集群配置**&#34; aria-controls=&#34;tabs-01-02&#34; aria-selected=&#34;false&#34;&gt;&#xA;        &lt;strong&gt;集群配置&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;div class=&#34;tab-content&#34; id=&#34;tabs-1-content&#34;&gt;&#xA;    &lt;div class=&#34;tab-body tab-pane fade&#34;&#xA;        id=&#34;tabs-01-00&#34; role=&#34;tabpanel&#34; aria-labelled-by=&#34;tabs-01-00-tab&#34; tabindex=&#34;1&#34;&gt;&#xA;        &#xA;    &lt;/div&gt;&#xA;    &lt;div class=&#34;tab-body tab-pane fade show active&#34;&#xA;        id=&#34;tabs-01-01&#34; role=&#34;tabpanel&#34; aria-labelled-by=&#34;tabs-01-01-tab&#34; tabindex=&#34;1&#34;&gt;&#xA;        &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;kafka_svc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;kafka-1:9092&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;broker_id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;zookeeper_svc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;zookeeper-1:2181,zookeeper-2:2181,zookeeper-3:2181&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tee /opt/kafka/config/server.properties &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;EOF&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;broker.id=${broker_id}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;# 尽量使用域名而不是ip&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;listeners=PLAINTEXT://${kafka_svc}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;advertised.listeners=PLAINTEXT://${kafka_svc}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;log.dirs=/opt/kafka/data/kafka1-logs&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;zookeeper.connect=${zookeeper_svc}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;zookeeper.connection.timeout.ms=18000&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;delete.topic.enable=true&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;unclean.leader.election.enable=false&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;    &lt;div class=&#34;tab-body tab-pane fade&#34;&#xA;        id=&#34;tabs-01-02&#34; role=&#34;tabpanel&#34; aria-labelled-by=&#34;tabs-01-02-tab&#34; tabindex=&#34;1&#34;&gt;&#xA;        &lt;p&gt;同一集群中保证&lt;code&gt;broker_id&lt;/code&gt;唯一，同时修改 &lt;code&gt;listeners&lt;/code&gt; 和 &lt;code&gt;advertised.listeners&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>kafka核心概念和配置文件</title>
      <link>https://zero-dew.netlify.app/database/kafka/config.html</link>
      <pubDate>Wed, 15 Oct 2025 15:22:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/database/kafka/config.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;2.13-3.3.2&lt;/code&gt;  龙腾出行生产环境使用&lt;code&gt;2.11-2.2.0&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h3 id=&#34;核心概念&#34;&gt;核心概念&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;broker&lt;/strong&gt; 一个kafka进程实例可以称作一个broker,主要功能是持久化消息以及将消息队列中的消息从发送端传输到消费端&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;topic&lt;/strong&gt;主题就好比数据库的表，或者文件系统里的文件夹。一个主题可以有若干个&lt;strong&gt;partition&lt;/strong&gt;，是实现分布式和高可用的关键&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;producer&lt;/strong&gt;生产者可能被称为发布者或写入者。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;consumer&lt;/strong&gt;消费者可能被称为订阅者或读者。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;offset&lt;/strong&gt;是一个不断递增的整数值，在创建消息时，Kafka 会把它添加到消息里。在给定的分区里，每个消息的偏移量都是唯一的。消费者把每个分区最后读取的消息偏移量保存在 Zookeeper 或 Kafka 上，如果消费者关闭或重启，它的读取状态不会丢失。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;consumer group&lt;/strong&gt; 为使消费者按照消息顺序消费和避免重复消费，群组保证每个分区只能被一个消费者使用&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;核心配置&#34;&gt;核心配置&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;kafka不支持动态调整参数，调整后需要重启broker&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xD;&#xA;&#xD;&#xA;  &#xD;&#xA;  &#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  &#xD;&#xA;&#xD;&#xA;  &#xD;&#xA;&#xD;&#xA;&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;tabs-1&#34; role=&#34;tablist&#34;&gt;&#xA;  &lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link active&#34;&#xA;          id=&#34;tabs-01-00-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-00&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**broker端参数**&#34; aria-controls=&#34;tabs-01-00&#34; aria-selected=&#34;true&#34;&gt;&#xA;        &lt;strong&gt;broker端参数&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link&#34;&#xA;          id=&#34;tabs-01-01-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-01&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**topic级别参数**&#34; aria-controls=&#34;tabs-01-01&#34; aria-selected=&#34;false&#34;&gt;&#xA;        &lt;strong&gt;topic级别参数&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link&#34;&#xA;          id=&#34;tabs-01-02-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-02&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**jvm参数**&#34; aria-controls=&#34;tabs-01-02&#34; aria-selected=&#34;false&#34;&gt;&#xA;        &lt;strong&gt;jvm参数&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&lt;li class=&#34;nav-item&#34;&gt;&#xA;      &lt;button class=&#34;nav-link&#34;&#xA;          id=&#34;tabs-01-03-tab&#34; data-bs-toggle=&#34;tab&#34; data-bs-target=&#34;#tabs-01-03&#34; role=&#34;tab&#34;&#xA;          data-td-tp-persist=&#34;**os参数**&#34; aria-controls=&#34;tabs-01-03&#34; aria-selected=&#34;false&#34;&gt;&#xA;        &lt;strong&gt;os参数&lt;/strong&gt;&#xA;      &lt;/button&gt;&#xA;    &lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;div class=&#34;tab-content&#34; id=&#34;tabs-1-content&#34;&gt;&#xA;    &lt;div class=&#34;tab-body tab-pane fade show active&#34;&#xA;        id=&#34;tabs-01-00&#34; role=&#34;tabpanel&#34; aria-labelled-by=&#34;tabs-01-00-tab&#34; tabindex=&#34;1&#34;&gt;&#xA;        &lt;p&gt;&lt;a href=&#34;https://kafka.apache.org/30/documentation.html#brokerconfigs&#34; target=&#34;_blank&#34;&gt;文档&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafka认证和授权</title>
      <link>https://zero-dew.netlify.app/database/kafka/authtication.html</link>
      <pubDate>Mon, 10 Nov 2025 10:10:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/database/kafka/authtication.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;2.13-3.3.2&lt;/code&gt;  龙腾出行生产环境使用&lt;code&gt;2.11-2.2.0&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h3 id=&#34;用户&#34;&gt;用户&lt;/h3&gt;&#xA;&lt;p&gt;&lt;font color=＃008B8B&gt;&lt;strong&gt;创建用户&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 创建用户test 密码123456 加密方式SCRAM-SHA-256&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@seagullcore01-uat-s2 kafka_2.13-3.3.2&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# bin/kafka-configs.sh \&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--bootstrap-server 192.168.0.161:9092 &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--alter &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--add-config &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;SCRAM-SHA-256=[password=123456]&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--entity-type users &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--entity-name test&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Completed updating config &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; user test.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 查看用户&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@seagullcore01-uat-s2 kafka_2.13-3.3.2&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# bin/kafka-configs.sh \&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--bootstrap-server 192.168.0.161:9092 &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--describe &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-entity-type users &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--entity-name test &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SCRAM credential configs &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; user-principal &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt; are SCRAM-SHA-256&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;iterations&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;font color=＃008B8B&gt;&lt;strong&gt;修改kafka配置文件并重启服务&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat &amp;gt;&amp;gt;config/server.properties &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;&amp;#39;EOF&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;# 添加以下配置&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;sasl.enabled.mechanisms=SCRAM-SHA-256&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;# 如果已有 SSL，可写 SASL_SSL&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;security.inter.broker.protocol=SASL_PLAINTEXT&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;sasl.mechanism.inter.broker.protocol=SCRAM-SHA-256&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;listeners=SASL_PLAINTEXT://192.168.0.161:9092&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;advertised.listeners=SASL_PLAINTEXT://192.168.0.161:9092&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;# 用于集群成员间通讯&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;listener.name.sasl_plaintext.scram-sha-256.sasl.jaas.config=\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  org.apache.kafka.common.security.scram.ScramLoginModule required \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  username=&amp;#34;test&amp;#34; \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  password=&amp;#34;123456&amp;#34;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat &amp;gt;config/kafka_server_jaas.conf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;&amp;#39;EOF&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;KafkaServer {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    org.apache.kafka.common.security.scram.ScramLoginModule required&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    username=&amp;#34;test&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    password=&amp;#34;123456&amp;#34;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;};&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export KAFKA_OPTS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-Djava.security.auth.login.config=config/kafka_server_jaas.conf&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./bin/kafka-server-start.sh  config/server.properties&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;font color=＃008B8B&gt;&lt;strong&gt;修改filebeat配置启动密码认证&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafka 如何进行复制</title>
      <link>https://zero-dew.netlify.app/database/kafka/replication.html</link>
      <pubDate>Mon, 10 Nov 2025 10:10:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/database/kafka/replication.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;2.13-3.3.2&lt;/code&gt;  龙腾出行生产环境使用&lt;code&gt;2.11-2.2.0&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;p&gt;Kafka 组件订阅 Zookeeper 的 /brokers/ids 路径（broker 在 Zookeeper 上的注册路径），当有 broker 加入集群或退出集群时，这些组件就可以获得通知。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;控制器&lt;/strong&gt;其实就是一个 broker，只不过它除了具有一般 broker 的功能之外，还负责分区首领的选举&lt;/p&gt;&#xA;&lt;p&gt;集群里第一个启动的 broker 通过在Zookeeper 里创建一个临时节点 /controller 让自己成为控制器其他 broker 在启动时也会尝试创建这个节点，不过它们会收到一个“节点已存在”的异常，然后“意识”到控制器节点已存在，也就是说集群里已经有一个控制器了其他 broker 在控制器节点上创建Zookeeper watch 对象，这样它们就可以收到这个节点的变更通知。这种方式可以确保集群里一次只有一个控制器存在。&lt;/p&gt;&#xA;&lt;p&gt;每个新选出的控制器通过 Zookeeper 的条件递增操作获得一个全新的、数值更大的 controller epoch。其他 broker 在知道当前 controller epoch 后，如果收到由控制器发出的包含较旧epoch 的消息，就会忽略它们。&lt;/p&gt;&#xA;&lt;p&gt;Kafka 使用主题来组织数据，每个主题被分为若干个分区，每个分区有多个副本,副本有以下两种类型。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;首领副本&lt;/strong&gt;每个分区都有一个首领副本。为了保证一致性，所有生产者请求和消费者请求都会经过这个副本。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;跟随者副本&lt;/strong&gt;首领以外的副本都是跟随者副本。跟随者副本不处理来自客户端的请求，它们唯一的任务就是从首领那里复制消息，保持与首领一致的状态。如果首领发生崩溃，其中的一个跟随者会被提升为新首领。&lt;/p&gt;&#xA;&lt;p&gt;为了与首领保持同步，跟随者向首领发送获取数据的请求，这种请求与消费者为了读取消息而发送的请求是一样的。请求消息里包含了跟随者想要获取消息的偏移量，而且这些偏移量总是有序的。&lt;/p&gt;&#xA;&lt;p&gt;如果跟随者在 10s 内没有请求任何消息，或者虽然在请求消息，但在 10s 内没有请求最新的数据，那么它就会被认为是不同步的,通过&lt;code&gt;replica.lag.time.max.ms&lt;/code&gt;参数来配置超时时长&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;首选首领&lt;/strong&gt;的主要目的是保证集群的负载均衡。除了当前首领之外，每个分区都有一个首选首领——创建主题时选定的首领就是分区的首&lt;/p&gt;&#xA;&lt;p&gt;选首领，如果不是，并且该副本是同步的，那么就会触发首领选举，让首选首领成为当前首领。&lt;/p&gt;</description>
    </item>
    <item>
      <title>kafka_exporter</title>
      <link>https://zero-dew.netlify.app/database/kafka/monitor.html</link>
      <pubDate>Fri, 12 Sep 2025 15:22:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/database/kafka/monitor.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;3.3.2&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;h3 id=&#34;kafka_&#34;&gt;&lt;strong&gt;kafka_exporter&lt;/strong&gt;&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://github.com/danielqsj/kafka_exporter/releases/download/v1.9.0/kafka_exporter-1.9.0.linux-amd64.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tar xf kafka_exporter-1.9.0.linux-amd64.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv kafka_exporter-1.9.0.linux-amd64/kafka_exporter /usr/bin/kafka_exporter &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tee /usr/lib/systemd/system/kafka_exporter.service &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;&amp;#39;EOF&amp;#39;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;[Unit]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Description=kafka_exporter service&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Documentation=https://github.com/danielqsj/kafka_exporter&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;After=network.target&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;[Service]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;ExecStart=/usr/bin/kafka_exporter \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;--web.listen-address=&amp;#34;:9309&amp;#34; \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;--kafka.server=192.168.0.151:9092 \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;--kafka.server=192.168.0.152:9092 \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;--kafka.server=192.168.0.153:9092&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;# 监控有密码认证的kafka&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;#--sasl.enabled \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;#--sasl.username=filebeat \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;#--sasl.password=ZmlsZWJlYXRAMjAyNgo= \&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;#--sasl.mechanism=scram-sha256&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;  &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;User=root&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;[Install]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;WantedBy=multi-user.target&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl daemon-reload &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl enable kafka_exporter --now &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;systemctl status kafka_exporter&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;grafna 报表id &lt;code&gt;21078&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>kafka可视化管理工具</title>
      <link>https://zero-dew.netlify.app/elk/kafka/kafka-manager.html</link>
      <pubDate>Fri, 12 Sep 2025 15:22:40 +0800</pubDate>
      <guid>https://zero-dew.netlify.app/elk/kafka/kafka-manager.html</guid>
      <description>&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;文档环境&lt;/h4&gt;&#xA;&#xA;    &lt;p&gt;os 版本： &lt;code&gt;CentOS Linux release 7.9.2009 (Core)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;jdk版本：&lt;code&gt;openjdk 11&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;zookeeper版本: &lt;code&gt;3.4.14&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;kafka版本：&lt;code&gt;3.3.2&lt;/code&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;2011年初，美国领英公司（LinkedIn）开源了一款基础架构软件，以奥地利作家弗兰兹·卡夫卡（Franz Kafka）的名字命名，之后 LinkedIn将其贡献给 Apache基金会，随后该软件于2012年10月完成孵化并顺利晋升为Apache顶级项目——这便是大名鼎鼎的Apache Kafka&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&lt;/div&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/yahoo/CMAK.git&#34; target=&#34;_blank&#34;&gt;雅虎开源的kafka管理工具CMAK&lt;/a&gt;&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export ZK_HOSTS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;192.168.0.151:2181,192.168.0.152:2181,192.168.0.153:2181&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://github.com/yahoo/CMAK/releases/download/3.0.0.6/cmak-3.0.0.6.zip&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;unzip cmak-3.0.0.6.zip&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cmak-3.0.0.6/bin/cmak&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&#xA;&lt;div class=&#34;alert alert-warning&#34; role=&#34;alert&#34;&gt;&#xA;&lt;h4 class=&#34;alert-heading&#34;&gt;启动报错&lt;/h4&gt;&#xA;&#xA;    &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;025-10-13 10:11:20,623 - &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ERROR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; k.m.KafkaManager - Failed on input : KMAddCluster&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ClusterConfig&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;demo,CuratorConfig&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;192.168.0.151:2181,192.168.0.152:2181,192.168.0.153:2181,10,100,1000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,true,3.1.0,false,None,None,false,false,true,true,false,false,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ClusterTuning&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;30&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;100&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;100&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;100&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;30&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;5&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;1000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;1000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;1000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;30000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;1000000&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;,Some&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;7&lt;span style=&#34;color:#f92672&#34;&gt;)))&lt;/span&gt;,PLAINTEXT,None,None&lt;span style=&#34;color:#f92672&#34;&gt;))&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;org.apache.zookeeper.KeeperException$UnimplementedException: KeeperErrorCode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Unimplemented &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; /kafka-manager/mutex&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.KeeperException.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;KeeperException.java:106&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.KeeperException.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;KeeperException.java:54&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.ZooKeeper.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ZooKeeper.java:1538&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.utils.ZKPaths.mkdirs&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ZKPaths.java:291&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl$11.call&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:746&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl$11.call&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:723&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.RetryLoop.callWithRetry&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;RetryLoop.java:109&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.pathInForeground&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:720&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.protectedPathInForeground&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:484&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.forPath&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:474&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2025-10-13 10:11:20,623 - &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ERROR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; k.m.ApiError$ - error : KeeperErrorCode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Unimplemented &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; /kafka-manager/mutex&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;org.apache.zookeeper.KeeperException$UnimplementedException: KeeperErrorCode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Unimplemented &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; /kafka-manager/mutex&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.KeeperException.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;KeeperException.java:106&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.KeeperException.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;KeeperException.java:54&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.zookeeper.ZooKeeper.create&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ZooKeeper.java:1538&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.utils.ZKPaths.mkdirs&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ZKPaths.java:291&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl$11.call&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:746&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl$11.call&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:723&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.RetryLoop.callWithRetry&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;RetryLoop.java:109&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.pathInForeground&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:720&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.protectedPathInForeground&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:484&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        at org.apache.curator.framework.imps.CreateBuilderImpl.forPath&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CreateBuilderImpl.java:474&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;解决办法&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
