<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Amtool on 零露云</title>
    <link>https://zero-dew.netlify.app/tags/amtool/</link>
    <description>Recent content in Amtool on 零露云</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <copyright>零露云©2025版权所有</copyright>
    <lastBuildDate>Wed, 14 May 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://zero-dew.netlify.app/tags/amtool/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>amtool</title>
      <link>https://zero-dew.netlify.app/prometheus/alertmanager/amtool.html</link>
      <pubDate>Wed, 14 May 2025 00:00:00 +0000</pubDate>
      <guid>https://zero-dew.netlify.app/prometheus/alertmanager/amtool.html</guid>
      <description>&lt;h3 id=&#34;amtool&#34;&gt;amtool&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;amtool&lt;/code&gt; is a cli tool for interacting with the Alertmanager API.&lt;/p&gt;&#xA;&lt;p&gt;go get github.com/prometheus/alertmanager/cmd/amtool&lt;/p&gt;&#xA;&lt;p&gt;配置文件&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;需要配置到&lt;code&gt;/etc/amtool/config.yml&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;或&lt;code&gt;$HOME/.confg/amtool/config.yml&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tee /etc/amtool/config.yml &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt;EOF&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;alertmanager.url: http://127.0.0.1:9093&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;author: &amp;#34;1209233066@qq.com&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;require-comment: true&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;output: josn&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;date.format: &amp;#34;2006-01-02 15:04:05 MST&amp;#34;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;命令&lt;/th&gt;&#xA;          &lt;th&gt;子命令&lt;/th&gt;&#xA;          &lt;th&gt;举例&lt;/th&gt;&#xA;          &lt;th&gt;举例解释&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;alert&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#78bd5b80&gt;amtool alert&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;查看所有告警&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;add&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#6ed6c680&gt;amtool alert add alertname=test labe-a=value-b &lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;添加一个名称为&lt;code&gt;test&lt;/code&gt;的带有标签为：&lt;code&gt;labe-a=value-b&lt;/code&gt;的告警&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;query&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool alert query alertname=test labe-a=value-b&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;查看指定标签的告警&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool alert query alertname=test labe-a=value-b -o json&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;json 格式展示告警详细信息&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool alert query alertname=test labe-a=value-b -o extended&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;扩展格式显示告警&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;silence&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#78bd5b80&gt;amtool silence &lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;查看所有维护期的告警&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;add&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#6ed6c680&gt;amtool silence add alertname=test labe-a=value-b  &amp;ndash;commen “this is test”&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;添加一个名称为&lt;code&gt;test&lt;/code&gt;的带有标签为：&lt;code&gt;labe-a=value-b&lt;/code&gt;的维护期，默认1h&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#6ed6c680&gt;amtool silence add alertname=test labe-a=value-b  &amp;ndash;commen “this is test” &amp;ndash;duration=&amp;ldquo;2h&amp;rdquo;&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;设置2h维护期&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;query&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool silence query alertname=test labe-a=value-b -o extended&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;查看指定标签的维护期&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool silence query alertname=test labe-a=value-b -o json&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;json 格式展示维护期的详细信息&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#bda85b80&gt;amtool silence query alertname=test labe-a=value-b -o extended&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;扩展格式显示维护期&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;expire&lt;/td&gt;&#xA;          &lt;td&gt;&lt;font color=#f63bce80&gt;amtool silence expire 223eb624-f49d-498d-ac7d-34bb7570adea&lt;/font&gt;&lt;/td&gt;&#xA;          &lt;td&gt;提前取消维护期(id 通过 amtool silence 查询)&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;config&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;template&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;check-config&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;amtool check-config alertmanager.yml&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;</description>
    </item>
  </channel>
</rss>
